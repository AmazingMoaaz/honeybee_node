# HoneyBee Node Configuration

node:
  # Node name (defaults to hostname if not specified)
  name: "honeybee-node-01"
  
  # Node type: "Full" or "Agent"
  # Full: Full-featured honeypot node that can install and manage honeypots
  # Agent: Lightweight monitoring probe
  type: "Full"
  
  # Address and port to report to manager
  address: "0.0.0.0"
  port: 8080

server:
  # Manager server address
  address: "10.10.1.3:9001"
  
  # Heartbeat interval in seconds
  heartbeat_interval: 30
  
  # Reconnect delay in seconds
  reconnect_delay: 5
  
  # Connection timeout in seconds
  connection_timeout: 10

tls:
  # Enable TLS encryption (highly recommended for production)
  enabled: false
  
  # Client certificate and key for mutual TLS (optional)
  # cert_file: "certs/client.crt"
  # key_file: "certs/client.key"
  
  # CA certificate for server verification (optional)
  # ca_file: "certs/ca.crt"
  
  # Skip TLS verification (NOT recommended for production)
  insecure_skip_verify: false
  
  # Server name for TLS verification
  server_name: "honeybee-manager"

auth:
  # Enable TOTP authentication (disable for testing)
  totp_enabled: false
  
  # Directory to store TOTP secret (defaults to ~/.config/honeybee)
  # totp_secret_dir: "/etc/honeybee/secrets"

log:
  # Log level: debug, info, warn, error
  level: "info"
  
  # Log format: text or json
  format: "text"
  
  # Log file path (optional, logs to stdout if not specified)
  # file: "/var/log/honeybee/node.log"

# =============================================================================
# Honeypot Management Configuration
# =============================================================================
honeypot:
  # Enable honeypot management capabilities
  # When enabled, this node can install, start, stop, and manage honeypots
  enabled: true
  
  # Base directory for honeypot installations
  # Each honeypot is installed in a subdirectory (e.g., base_dir/cowrie-01/)
  base_dir: "~/.honeybee/honeypots"
  
  # Default SSH honeypot port (used when not specified in install command)
  default_ssh_port: 2222
  
  # Default Telnet honeypot port (used when not specified in install command)
  default_telnet_port: 2223

# =============================================================================
# Example: Installing Cowrie from GitHub
# =============================================================================
# After the node is running and connected to the manager, you can send an
# InstallHoneypot command from the manager:
#
# {
#   "version": 2,
#   "message": {
#     "InstallHoneypot": {
#       "honeypot_id": "cowrie-01",
#       "honeypot_type": "cowrie",
#       "git_url": "https://github.com/cowrie/cowrie.git",
#       "git_branch": "main",
#       "ssh_port": 2222,
#       "telnet_port": 2223,
#       "auto_start": true
#     }
#   }
# }
#
# The node will:
# 1. Clone Cowrie from the GitHub URL
# 2. Create a Python virtual environment
# 3. Install dependencies
# 4. Configure Cowrie with HoneyBee integration (socketlog output)
# 5. Optionally start Cowrie automatically
#
# All honeypot events (login attempts, commands, etc.) will be forwarded
# to the HoneyBee Core manager in real-time.

